<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summary measures for the Thresholded Optimal Dorfman (TOD) algorithm — TOD • binGroup2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summary measures for the Thresholded Optimal Dorfman (TOD) algorithm — TOD"><meta name="description" content="Summary measures for the Thresholded Optimal Dorfman (TOD)
algorithm."><meta property="og:description" content="Summary measures for the Thresholded Optimal Dorfman (TOD)
algorithm."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">binGroup2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Identification-through-group-testing.html">Identification-through-group-testing</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bdhitt/binGroup2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Summary measures for the Thresholded Optimal Dorfman (TOD) algorithm</h1>
      <small class="dont-index">Source: <a href="https://github.com/bdhitt/binGroup2/blob/main/R/ThresholdDorfman.R" class="external-link"><code>R/ThresholdDorfman.R</code></a></small>
      <div class="d-none name"><code>TOD.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Summary measures for the Thresholded Optimal Dorfman (TOD)
algorithm.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TOD</span><span class="op">(</span><span class="va">p.vec</span>, <span class="va">Se</span>, <span class="va">Sp</span>, max <span class="op">=</span> <span class="fl">15</span>, init.group.sz <span class="op">=</span> <span class="cn">NULL</span>, threshold <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-p-vec">p.vec<a class="anchor" aria-label="anchor" href="#arg-p-vec"></a></dt>
<dd><p>a vector of individual risk probabilities.</p></dd>


<dt id="arg-se">Se<a class="anchor" aria-label="anchor" href="#arg-se"></a></dt>
<dd><p>sensitivity of the diagnostic test.</p></dd>


<dt id="arg-sp">Sp<a class="anchor" aria-label="anchor" href="#arg-sp"></a></dt>
<dd><p>specificity of the diagnostic test.</p></dd>


<dt id="arg-max">max<a class="anchor" aria-label="anchor" href="#arg-max"></a></dt>
<dd><p>the maximum allowable group size. Further details are given under
'Details'.</p></dd>


<dt id="arg-init-group-sz">init.group.sz<a class="anchor" aria-label="anchor" href="#arg-init-group-sz"></a></dt>
<dd><p>the initial group size used for TOD, if <kbd>threshold</kbd>
is not specified. Further details are given under 'Details'.</p></dd>


<dt id="arg-threshold">threshold<a class="anchor" aria-label="anchor" href="#arg-threshold"></a></dt>
<dd><p>the threshold value for TOD. If a threshold is not
specified, one is found algorithmically. Further details are given under
'Details'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing:</p>
<dl><dt>prob</dt>
<dd><p>the vector of individual risk probabilities, as specified
by the user.</p></dd>

<dt>Se</dt>
<dd><p>the sensitivity of the diagnostic test, as specified by the user.</p></dd>

<dt>Sp</dt>
<dd><p>the specificity of the diagnostic test, as specified by the user.</p></dd>

<dt>group.sz</dt>
<dd><p>the initial group size used for TOD, if applicable.</p></dd>

<dt>thresh.val</dt>
<dd><p>the threshold value used for TOD, if applicable.</p></dd>

<dt>OTC</dt>
<dd><p>a list specifying elements of the optimal testing configuration,
which may include:</p><dl><dt>Block.sz</dt>
<dd><p>the block size/initial group size for informative Dorfman
testing, which is not tested.</p></dd>

<dt>pool.szs</dt>
<dd><p>group sizes for the first stage of testing for informative
Dorfman testing.</p></dd>

</dl></dd>

<dt>ET</dt>
<dd><p>the expected testing expenditure to decode all individuals in the
algorithm.</p></dd>

<dt>Var</dt>
<dd><p>the variance of the testing expenditure to decode all individuals
in the algorithm.</p></dd>

<dt>Accuracy</dt>
<dd><p>a list containing:</p><dl><dt>Individual</dt>
<dd><p>a matrix of accuracy measures for each individual.
The rows correspond to each unique set of accuracy
measures in the algorithm. Individuals with the same set of accuracy
measures are displayed together in a single row of the matrix. The columns
correspond to the pool index, the individual risk probability, and the
pooling sensitivity, pooling specificity, pooling positive predictive value,
and pooling negative predictive value for the individuals in each row of the
matrix.</p></dd>

<dt>Overall</dt>
<dd><p>a matrix of overall accuracy measures for the algorithm.
The columns correspond to the pooling sensitivity, pooling specificity,
pooling positive predictive value, and pooling negative predictive value
for the overall algorithm. Further details are given under 'Details'.</p></dd>

</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function finds the characteristics of an informative two-stage
hierarchical (Dorfman) decoding process. Characteristics found include the
expected expenditure of the decoding process, the variance of the expenditure
of the decoding process, and the pooling sensitivity, pooling specificity,
pooling positive predictive value, and pooling negative predictive value for
each individual and for the overall algorithm. Calculations of these
characteristics are done using equations presented in McMahan et al. (2012).</p>
<p>Thresholded Optimal Dorfman (TOD) is an informative Dorfman algorithm in
which all \(N\) individuals are partitioned into two classes, low-risk and
high-risk individuals. The threshold can be specified using the optional
<kbd>threshold</kbd> argument. Alternatively, the TOD algorithm can identify
the optimal threshold value. The low-risk individuals are tested using an
optimal common pool size, and the high-risk individuals are tested
individually. If desired, the user can add the constraint of a maximum
allowable group size (<kbd>max</kbd>), so that each group will contain no more
than the maximum allowable number of individuals.</p>
<p>The displayed overall pooling sensitivity, pooling specificity, pooling
positive predictive value, and pooling negative predictive value are
weighted averages of the corresponding individual accuracy measures for all
individuals within the initial group (or block) for a hierarchical
algorithm, or within the entire array for an array-based algorithm.
Expressions for these averages are provided in the Supplementary
Material for Hitt et al. (2019). These expressions are based on accuracy
definitions given by Altman and Bland (1994a, 1994b).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Altman, D., Bland, J. (1994).
“Diagnostic tests 1: Sensitivity and specificity.”
<em>BMJ</em>, <b>308</b>, 1552.</p>
<p>Altman, D., Bland, J. (1994).
“Diagnostic tests 2: Predictive values.”
<em>BMJ</em>, <b>309</b>, 102.</p>
<p>Hitt, B., Bilder, C., Tebbs, J., McMahan, C. (2019).
“The objective function controversy for group testing: Much ado about nothing?”
<em>Statistics in Medicine</em>, <b>38</b>, 4912–4923.</p>
<p>McMahan, C., Tebbs, J., Bilder, C. (2012a).
“Informative Dorfman Screening.”
<em>Biometrics</em>, <b>68</b>, 287–296.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="expectOrderBeta.html">expectOrderBeta</a></code> for generating a vector of individual risk
probabilities.</p>
<p>Other operating characteristic functions:
<code><a href="GroupMembershipMatrix.html">GroupMembershipMatrix</a>()</code>,
<code><a href="Sterrett.html">Sterrett</a>()</code>,
<code><a href="halving.html">halving</a>()</code>,
<code><a href="operatingCharacteristics1.html">operatingCharacteristics1</a>()</code>,
<code><a href="operatingCharacteristics2.html">operatingCharacteristics2</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Brianna D. Hitt</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: Find the characteristics of an informative</span></span></span>
<span class="r-in"><span><span class="co">#   Dorfman algorithm, using the TOD procedure.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1002</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p.vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="expectOrderBeta.html">expectOrderBeta</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.01</span>, alpha <span class="op">=</span> <span class="fl">2</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">TOD</span><span class="op">(</span>p <span class="op">=</span> <span class="va">p.vec</span>, Se <span class="op">=</span> <span class="fl">0.95</span>, Sp <span class="op">=</span> <span class="fl">0.95</span>, max <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    threshold <span class="op">=</span> <span class="fl">0.015</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall block size: 20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ordered individual probabilities of positivity: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.0016 0.0025 0.0033 0.004 0.0047 0.0053 0.006 0.0067 0.0074 0.0082 0.0089 0.0098 0.0107 0.0117 0.0129 0.0143 0.0159 0.018 0.0211 0.027 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Group sizes for individuals ordered by probabilities of positivity: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4 4 4 4 1 1 1 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected number of tests: 9.22 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variance for the number of tests: 4.49 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Find the threshold value for the TOD</span></span></span>
<span class="r-in"><span><span class="co">#   procedure algorithmically. Then, find</span></span></span>
<span class="r-in"><span><span class="co">#   characteristics of the algorithm.</span></span></span>
<span class="r-in"><span><span class="fu">TOD</span><span class="op">(</span>p <span class="op">=</span> <span class="va">p.vec</span>, Se <span class="op">=</span> <span class="fl">0.95</span>, Sp <span class="op">=</span> <span class="fl">0.95</span>, max <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    init.group.sz <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall block size: 20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ordered individual probabilities of positivity: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.0016 0.0025 0.0033 0.004 0.0047 0.0053 0.006 0.0067 0.0074 0.0082 0.0089 0.0098 0.0107 0.0117 0.0129 0.0143 0.0159 0.018 0.0211 0.027 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Group sizes for individuals ordered by probabilities of positivity: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5 5 5 5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected number of tests: 5.88 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variance for the number of tests: 8.43 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brianna Hitt, Christopher Bilder, Frank Schaarschmidt, Brad Biggerstaff, Christopher McMahan, Joshua Tebbs.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

